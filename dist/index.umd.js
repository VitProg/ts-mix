!function(e,i){"object"==typeof exports&&"undefined"!=typeof module?i(exports):"function"==typeof define&&define.amd?define(["exports"],i):i((e=e||self)["ts-mix"]={})}(this,function(e){"use strict";const i="__afterMixins";class n extends Error{}function t(e,i,n){return"object"==typeof e&&"mixins"in e&&"object"==typeof e.mixins&&i.mixinName in e.mixins&&"object"==typeof e.mixins[i.mixinName]}function o(e,i,n){if(!("object"==typeof e&&"mixins"in e&&"object"==typeof e.mixins))return!1;for(const n of i)if(!1===t(e,n))return!1;return!0}function r(e,n,...t){"object"!=typeof e.mixins&&(e.mixins={}),t=t.filter(e=>!!e);for(const i of t){if(!i)continue;const t=i.mixinName;if(e.mixins[t]=i,i.target=e,"setup"in i&&"function"==typeof i.setup){const e=i.setup();if(void 0!==e)for(const[n,t]of Object.entries(e))i[n]=t}if(n){const n=f(i);for(const t of Object.keys(n)){const o=n[t];if(!(t in e))if("function"==typeof o.value)Reflect.defineProperty(e,t,{enumerable:!1,configurable:!0,writable:!1,value:(...e)=>i[t](...e)});else if(o.get||o.set){const n={enumerable:!1,configurable:!0};o.get&&(n.get=function(){return i[t]}),o.set&&(n.set=function(e){i[t]=e}),Reflect.defineProperty(e,t,n)}else Reflect.defineProperty(e,t,{enumerable:!1,configurable:!0,get:()=>i[t],set(e){i[t]=e}})}}}for(const e of t)e.init&&e.init();i in e&&"function"==typeof e[i]&&e[i]()}const s=["__proto__","init","setup","target","mixinName"];function f(e){const i={},n=Object.getOwnPropertyNames(e).filter(e=>!1===s.includes(e));for(const t of n){const n=Object.getOwnPropertyDescriptor(e,t);void 0!==n&&(i[t]=n)}return i}e.MixinAssertError=n,e.applyMixins=function(e,...i){return r(e,!1,...i)},e.assertHaveMixin=function(e,i,o,r){if(!1===t(e,i))throw r instanceof Error?r:new n(null!=r?r:`The object does not have mixin '${i.mixinName}'`)},e.assertHaveMixins=function(e,i,t,r){if(!1===o(e,i))throw r instanceof Error?r:new n(null!=r?r:`The object does not have one or more of mixins ${i.map(e=>`'${e.mixinName}'`).join(", ")}`)},e.haveMixin=t,e.haveMixins=o,e.isMixin=function(e){var i,n,t,o,r,s,f;return"object"==typeof e&&"string"==typeof(null===(i=e)||void 0===i?void 0:i.mixinName)&&"object"==typeof(null===(n=e)||void 0===n?void 0:n.target)&&"object"==typeof(null===(o=null===(t=e)||void 0===t?void 0:t.target)||void 0===o?void 0:o.mixins)&&(null===(r=e)||void 0===r?void 0:r.mixinName)in(null===(f=null===(s=e)||void 0===s?void 0:s.target)||void 0===f?void 0:f.mixins)},e.mixin=function(e){const i=e;return Object.assign({target:void 0},i)},e.useMixins=function(e,i,n,t,o,s,f,c,u,a,l){var m;return(m=class extends e{constructor(...e){super(...e),r(this,!0,i,n,t,o,s,f,c,u,a,l)}}).__m_b_type=e,m},e.useMixinsForObject=function(e,i,n,t,o,s,f,c,u,a,l){return r(e,!0,i,n,t,o,s,f,c,u,a,l),e},Object.defineProperty(e,"__esModule",{value:!0})});
